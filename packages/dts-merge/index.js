parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({5:[function(require,module,exports) {
var e=require("fs"),r=require("glob"),n=require("mkdirp"),t=require("os"),i=require("path"),o=require("bluebird"),a=require("typescript"),c=".d.ts".length,l=function(){if("/"===i.sep)return function(e){return e};var e=new RegExp(i.sep.replace("\\","\\\\"),"g");return function(r){return r.replace(e,"/")}}();function u(e){var r="Declaration generation failed";e.forEach(function(e){if(e.file){var n=e.file.getLineAndCharacterOfPosition(e.start);r+="\n"+e.file.fileName+"("+(n.line+1)+","+(n.character+1)+"): error TS"+e.code+": "+e.messageText}else r+="\nerror TS"+e.code+": "+e.messageText});var n=new Error(r);return n.name="EmitterError",n}function s(e,r){return r.map(function(r){var n=i.resolve(r);return 0===n.indexOf(e)?n:i.resolve(e,r)})}function f(e,r){var n="",t=0;return function i(o){!function(r){n+=e.text.slice(t,r.pos),t=r.pos}(o);var c=r(o);null!=c?(n+=c,function(e){t=e.end}(o)):a.forEachChild(o,i)}(e),n+=e.text.slice(t)}function d(r,n){var t=e.readFileSync(n,{encoding:"utf8"}),o=a.parseConfigFileTextToJson(n,t);if(o.error)throw u([o.error]);var c=o.config,l=a.parseJsonConfigFileContent(c,a.sys,i.dirname(n));if(l.errors&&l.errors.length)throw u(l.errors);return[l.fileNames,l.options]}function m(e){return e&&e.kind===a.SyntaxKind.ImportDeclaration}function p(e){return e&&e.kind===a.SyntaxKind.ExternalModuleReference}function g(e){return e&&e.kind===a.SyntaxKind.StringLiteral}function x(e){return e&&e.kind===a.SyntaxKind.ExportDeclaration}function v(e){return e&&e.kind===a.SyntaxKind.ExportAssignment}function h(e){return e&&e.kind===a.SyntaxKind.ModuleDeclaration}function y(y){var D=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n]},S=y.sendMessage||D,E=y.verbose?S:D,w={},j=y.files;if(y.project||!y.files||0===y.files.length){E('project = "'+(y.project||y.baseDir)+'"');var M=void 0;if(M=Boolean(y.project)?e.lstatSync(y.project).isDirectory()?i.join(y.project,"tsconfig.json"):y.project:i.join(y.baseDir,"tsconfig.json"),!e.existsSync(M))return S('No "tsconfig.json" found at "'+M+'"!'),new o(function(e,r){r(new SyntaxError("Unable to resolve configuration."))});E('  parsing "'+M+'"'),j=(A=d(y,M))[0],w=A[1]}var b=y.eol||t.EOL,k=new RegExp(b+"(?!"+b+"|$)","g"),I=void 0===y.indent?"\t":y.indent;w.declaration=!0,w.target=w.target||a.ScriptTarget.Latest,w.moduleResolution=w.moduleResolution||y.moduleResolution,w.outDir=w.outDir||y.outDir;var q=i.resolve(w.rootDir||y.project||y.baseDir),N=w.outDir;E('baseDir = "'+q+'"'),E("target = "+w.target),E("outDir = "+w.outDir),E("rootDir = "+w.rootDir),E("moduleResolution = "+w.moduleResolution);var K=s(q,j);E("filenames:"),K.forEach(function(e){E("  "+e)});var R={};y.exclude=y.exclude||["node_modules/**/*.d.ts"],y.exclude&&y.exclude.forEach(function(e){r.sync(e).forEach(function(e){R[l(i.resolve(q,e))]=!0})}),y.exclude&&(E("exclude:"),y.exclude.forEach(function(e){E("  "+e)})),n.sync(i.dirname(y.out));var T=e.createWriteStream(y.out,{mode:parseInt("644",8)}),C=a.createCompilerHost(w),F=a.createProgram(K,w,C);function O(e,r,n){".d.ts"===e.slice(-c)&&P(a.createSourceFile(e,r,w.target,!0),!0)}var A,L=[];return new o(function(e,r){T.on("close",function(){e(void 0)}),T.on("error",r),y.externs&&y.externs.forEach(function(e){S("Writing external dependency "+e),T.write('/// <reference path="'+e+'" />'+b)}),y.types&&y.types.forEach(function(e){S("Writing external @types package dependency "+e),T.write('/// <reference types="'+e+'" />'+b)}),S("processing:");var n=!1,t=!1;F.getSourceFiles().forEach(function(e){f(e,function(e){if(h(e)){var r=e.name;g(r)&&L.push(r.text)}return null})}),F.getSourceFiles().some(function(e){if(0===i.normalize(e.fileName).indexOf(q)&&!R[l(i.normalize(e.fileName))]){if(S("  "+e.fileName),".d.ts"!==e.fileName.slice(-c)){y.main&&y.main===y.name+l(e.fileName.slice(q.length,-3))&&a.forEachChild(e,function(e){n=n||x(e),t=t||v(e)});var o=F.emit(e,O);return o.emitSkipped||o.diagnostics.length>0?(r(u(o.diagnostics.concat(F.getSemanticDiagnostics(e)).concat(F.getSyntacticDiagnostics(e)).concat(F.getDeclarationDiagnostics(e)))),!0):void 0}P(e,!1)}}),y.main&&y.name&&(console.log(y.name),T.write("declare module '"+y.name+"' {"+b+I),w.target>=a.ScriptTarget.ES2015?(t&&T.write("export {default} from '"+y.main+"';"+b+I),n&&T.write("export * from '"+y.main+"';"+b)):(T.write("import main = require('"+y.main+"');"+b+I),T.write("export = main;"+b)),T.write("}"+b),S("Aliased main module "+y.name+" to "+y.main)),S('output to "'+y.out+'"'),T.end()});function P(e,r){var n=i.resolve(e.fileName),t=r&&Boolean(N)?i.resolve(N):q,o=y.name?y.name+l(n.slice(t.length,-c)):l(n.slice(t.length+1,-c)),u=l(n.slice(t.length+1,-c));function s(e){var r=-1!==L.indexOf(e);if(y.resolveModuleImport){var n=y.resolveModuleImport({importedModuleId:e,currentModuleId:u,isDeclaredExternalModule:r});if(n)return n}if("."===e.charAt(0))return l(i.join(i.dirname(o),e))}if(e.externalModuleIndicator){var d=o;if(y.resolveModuleId){var v=y.resolveModuleId({currentModuleId:u});v&&(d=v)}d===y.name+"/index"&&(d=d.replace("/index","")),T.write("declare module '"+d+"' {"+b+I);var h=f(e,function(e){if(p(e)){if(r=s(e.expression.text))return" require('"+r+"')"}else{if(e.kind===a.SyntaxKind.DeclareKeyword)return"";var r;if(g(e)&&e.parent&&(x(e.parent)||m(e.parent))&&(r=s(e.text)))return" '"+r+"'"}});T.write(h.replace(k,"$&"+I)),T.write(b+"}"+b)}else T.write(e.text)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=y;
},{}],3:[function(require,module,exports) {
var e=require("./util.js");function r(r){for(var s={files:[],sendMessage:console.log.bind(console)},o=0;o<r.length;++o){if("-"===r[o].charAt(0)){var t=r[o].replace(/^-+/,""),n=r[o+1];++o,"exclude"===t?(s.exclude||(s.exclude=[]),s.exclude.push(n)):"extern"===t?(s.externs||(s.externs=[]),s.externs.push(n)):"types"===t?(s.types||(s.types=[]),s.types.push(n)):"verbose"===t?(s.verbose=!0,--o):s[t]=n}else s.files.push(r[o])}return["out"].forEach(function(e){s[e]||(console.error('Missing required argument "'+e+'"'),process.exit(1))}),s.baseDir||s.project||(console.error('Missing required argument of "baseDir" or "project"'),process.exit(1)),s.project||0!==s.files.length||(console.error("Missing files"),process.exit(1)),console.log("Starting"),e.default(s).then(function(){console.log("Done!")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{"./util.js":5}],1:[function(require,module,exports) {
var e=require("./dts-generator.js");module.parent?module.exports=e:e.default(process.argv.slice(2)).then(function(e){return process.exit(e||0)},function(e){throw e});
},{"./dts-generator.js":3}]},{},[1], null)
//# sourceMappingURL=/index.map